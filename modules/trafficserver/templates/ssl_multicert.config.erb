# https://docs.trafficserver.apache.org/en/latest/admin-guide/files/ssl_multicert.config.en.html
# This file is managed by Puppet.

<%- @sslcerts.each_pair do | name, property |-%>
<%- if property['sslname'] -%>
dest_ip=* ssl_cert_name=<%= property['sslname'] %>.crt ssl_key_name=<%= property['sslname'] %>.key
<%- else -%>
dest_ip=* ssl_cert_name=<%= property['url'] %>.crt ssl_key_name=<%= property['url'] %>.key
<%- end -%>
<%- end -%>

# Redirects
<%- @sslredirects.each_pair do | name, property | -%>
dest_ip=* ssl_cert_name=<%= property['sslname'] %>.crt ssl_key_name=<%= property['sslname'] %>.key
<%- end -%>

# m.miraheze.org
dest_ip=* ssl_cert_name=m.miraheze.org.crt ssl_key_name=m.miraheze.org.key