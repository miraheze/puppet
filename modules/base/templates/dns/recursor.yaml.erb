# Basic config for setup
allow-from:
  - "127.0.0.0/8"
  - "::1/128"

config-dir: "/etc/powerdns"
dnssec: off
local-address: "<%= @local_address %>"
quiet: true
setgid: "pdns"
setuid: "pdns"

daemon: true
threads: <%= @threads %>
pdns-distributes-queries: false
reuseport: true

max-cache-ttl: 3600
max-negative-ttl: 60
max-cache-entries: 1000000

stats-ringbuffer-entries: 1000

# Note: if there are multiple addresses, this should become a YAML list.
query-local-address: "<%= @query_local_address.join(', ') %>"

# This prevents pdns from polling a public server to check for sec fixes
security-poll-suffix: ""

# Root hints distributed by Debian 4.x
hint-file: "/usr/share/dns/root.hints"

# Forward requests to our authoritative servers
forward-zones: "<%= @forward_zones %>"
