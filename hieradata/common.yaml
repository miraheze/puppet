jobrunner: false
jobrunner::intensive: false
mailserver: false
puppetserver: false

puppet_major_version: 8

mediawiki::multiversion::versions:
  '1.40':
    branch: 'REL1_40'
    default: true
  '1.41':
    branch: 'REL1_41'

puppetserver_hostname: puppet181.wikitide.net
role::salt::minions::salt_master: 'puppet181.wikitide.net'
dns: false
mediawiki::use_staging: false
mediawiki::is_canary: false
mediawiki::default_sync: 'all'
mediawiki::use_shellbox: false
mediawiki::jobqueue::wiki: 'loginwiki'
mediawiki::jobqueue::runner::beta: false
mediawiki::monitoring::host: 'login.miraheze.org'
memcached_servers:
  - '2a10:6740::6:510:11211:1 "shard01"'
  - '2a10:6740::6:405:11211:1 "shard02"'
memcached_servers_beta:
  - '2a10:6740::6:406:11211:1 "shard03"'
varnish::interval-check: '10s'
varnish::interval-timeout: '10s'
varnish::backends:
  mw131:
    domain: 'miraheze.org'
    port: 8106
    probe: mwhealth
    pool: true
    xdebug: true
  mw132:
    domain: 'miraheze.org'
    port: 8107
    probe: mwhealth
    pool: true
    xdebug: true
  mw141:
    domain: 'miraheze.org'
    port: 8108
    probe: mwhealth
    pool: true
    xdebug: true
  mw142:
    domain: 'miraheze.org'
    port: 8109
    probe: mwhealth
    pool: true
    xdebug: true
  mw133:
    domain: 'miraheze.org'
    port: 8110
    probe: mwhealth
    pool: true
    xdebug: true
  mw134:
    domain: 'miraheze.org'
    port: 8111
    probe: mwhealth
    pool: true
    xdebug: true
  mw143:
    domain: 'miraheze.org'
    port: 8112
    probe: mwhealth
    pool: true
    xdebug: true
  mw151:
    domain: 'wikitide.net'
    port: 8113
    probe: mwhealth
    pool: false
    xdebug: true
  mw152:
    domain: 'wikitide.net'
    port: 8114
    probe: mwhealth
    pool: false
    xdebug: true
  mw181:
    domain: 'wikitide.net'
    port: 8115
    probe: mwhealth
    pool: false
    xdebug: true
  mw182:
    domain: 'wikitide.net'
    port: 8116
    probe: mwhealth
    pool: false
    xdebug: true
  mwtask181:
    domain: 'wikitide.net'
    port: 8160
    probe: false
    pool: false
    xdebug: true
  test151:
    domain: 'wikitide.net'
    port: 8181
    probe: false
    pool: false
    xdebug: true
  mail121:
    port: 8200
    probe: false
    pool: false
  mon181:
    domain: 'wikitide.net'
    port: 8201
    probe: false
    pool: false
  phab121:
    port: 8202
    probe: false
    pool: false
  matomo151:
    domain: 'wikitide.net'
    port: 8203
    probe: false
    pool: false
  puppet181:
    domain: 'wikitide.net'
    port: 8204
    probe: false
    pool: false
  reports121:
    port: 8205
    probe: false
    pool: false

# Logging
base::syslog::syslog_daemon: rsyslog
base::syslog::syslog_host: [ 'graylog131.miraheze.org:12210' ]

## Swift
# TODO: Add support for class based hiera
rsync::server::address: '::'
swift::storage::object_server_default_workers: 100

role::swift::stats_reporter_host: swiftproxy111.miraheze.org

swift::storage::devices:
  - sdd
  - sde
  - sdf
  - sda10
  - sda31
  - sda32

role::mediawiki::mcrouter::shards:
  miraheze:
    shard01:
      host: [2a10:6740::6:510]
    shard02:
      host: [2a10:6740::6:405]

role::mediawiki::use_mcrouter: true

